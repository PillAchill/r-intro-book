# (PART) Grundlagen {-}

```{r setup_grundlagen}
knitr::opts_chunk$set(echo = T)
```


# Erste Funktionen

Im letzten Abschnitt habt ihr R als glorifizierten Taschenrechner gesehen.  
Als nächstes schauen wir uns an, was wir sonst so damit anstellen können.

## Grundfunktionen

Die einfachsten Funktionen haben wir in Form der Rechenzeichen `+ - / *` schon kennengelernt, aber es gibt natürlich noch mehr.  
Eine Funktion in R hat sieht immer ungefähr so aus: `sqrt(8)`. Der Name der Funktion, hier `sqrt`, (**immer** ohne Leerzeichen) gefolgt von Klammern, in denen ein oder mehrere *Argumente* stehen. Ein Argument ist das, womit die Funktion arbeiten soll. Eine gängige Veranschaulichung für Funktionen sind **Verben** einer Sprache, denn sie *tun* etwas.  

Eine der wichtigsten Grundfunktionen ist `c()`, für *combine*. Mit `c` verbindet ihr mehrere Zahlen zu einem **Vektor** (ja, wie in der linearen Algebra. Mathe und so. Wisstschon.). Wenn ihr mehrere Zahlen zu einem Vektor kombiniert habt, könnt ihr damit so spaßige Dinge machen wie Mittelwerte ausrechen, sie aufsummieren oder zwei Vektoren gleicher Länge addieren.  
Probiert mal ein paar Beispiele aus:

```{r}
# Ein paar Zahlen
c(1, 1, 2, 3, 5, 8, 13, 21)

# Was ist der Mittelwert der Zahlen?
mean(c(1, 1, 2, 3, 5, 8, 13, 21))

# Und die Summe?
sum(c(1, 1, 2, 3, 5, 8, 13, 21))

# Und wenn wir quadrieren?
c(1, 1, 2, 3, 5, 8, 13, 21)^2

# Oder die Wurzel ziehen?
sqrt(c(1, 1, 2, 3, 5, 8, 13, 21))
```

Was wir hier sehen ist der Unterschied zwischen Funktionen, die aus mehreren Zahlen eine machen (`mean`, `sum`), und Funktionen, die auf jeder Zahl einzeln operieren (`sqrt`, `^`).  
Was wir außerdem sehen: Jedes mal die Liste von Zahlen `c(1, 1, 2, 3, 5, 8, 13, 21)` kopieren und in eine Funktion einsetzen ist ziemlich unpraktisch. Stellt euch vor, ihr habt eine Reihe von Testergebnissen von hunderten ProbandInnen und müsst da alles einzeln, also, nein, das wäre ja albern.  
Für sowas gibt es dann Abstraktionen wie **Variablen** und **Datensätze**, die entweder eine Liste von Werten oder auch eine Liste einer Liste von Werten handlich machen — das sehen wir dann in den nächsten beiden Abschnitten. 

Eine weitere praktische Funktion ist `length()`: Sie sagt uns, wie *lang* das Argument ist.  
Wenn wir uns also angucken, wie der Mittelwert funktioniert…

$$\bar{x} = \frac{1}{n} \sum^n_{i=1} x_i$$

…und wir das übersetzen in *"Die Summe aller Werte geteilt durch die Anzahl der Werte"*, dann können wir statt `mean` also auch folgendes schreiben:

```{r}
# in lang
sum(c(1, 1, 2, 3, 5, 8, 13, 21))/length(c(1, 1, 2, 3, 5, 8, 13, 21))

# in kurz
mean(c(1, 1, 2, 3, 5, 8, 13, 21))
```

Ihr seht vielleicht so langsam, wieso wir das mit den Klammern und den Leerzeichen für die Lesbarkeit erwähnt haben.  
Aber gut, so langsam wird's unübersichtlich, es wird Zeit ein paar Variablen anzulegen.

## Variablen

Wenn Funktionen wie Verben sind, dann sind Variablen wie **Nomen**. Sie haben einen Namen, und mit ihnen kann man Dinge tun. Oder sogar Sachen machen.  
Variablen werden durch eine *Zuweisung* (*Assignment*) erstellt, was in R traditionell via `<-` passiert.  
In den meisten anderen Programmiersprachen benutzt man dafür `=`, aber nun ja, R ist [historisch gewachsen](https://ironholds.org/projects/rbitrary/#why-do-we-use---for-assignment)^[Money quote: "[…] the reason we use `<-` for assignment is it made sense in a programming language written before the incorporation of Apple Computers, because it made sense in a programming language written before the moon landings."], also nehmt für den Anfang einfach mal hin, dass das nunmal so ist.  
Wir speichern also mal ein paar Dinge:

```{r}
# Speichern in "fib"
fib <- c(1, 1, 2, 3, 5, 8, 13, 21) 

# Ausgeben lassen
fib

# Mittelwert…
mean(fib)

# …funktioniert immer noch. Angenehm.
# Und wenn wir…
fib + fib

# Abgefahrener Kram.
```

Hier haben wir die Zahlen `1, 1, 2, 3, 5, 8, 13, 21` in die Variable `fib` gespeichert, weil es die ersten paar [Fibonacci-Zahlen](https://de.wikipedia.org/wiki/Fibonacci-Folge) sind, und wir unsere Variablen immer so benennen sollten, dass wir später noch wissen wofür sie da sind. Viele Tutorials beginnen damit, Variablen wie `x`, `y` und `z` anzulegen, aber da blickt ja irgendwann kein Mensch mehr durch.  
Wenn ihr jetzt mit euren Zahlen arbeiten wollt, könnt ihr einfach in jeder Funktion `fib` statt der Liste mit `c(…)` einsetzen, und alles funktioniert wie vorher. Das liegt daran, dass R bei jedem Befehl erstmal nachschaut, ob ihr eine Variable benutzt (alles was Text ohne Anführungszeichen ist), und ob es die Variable findet. Wenn es die Variable gefunden hat, guckt es nach, was da drinsteht, in diesem Fall also `c(1, 1, 2, 3, 5, 8, 13, 21)`, dann benutzt R den Inhalt der Variablen.

## Daten
